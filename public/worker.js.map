{"version":3,"sources":["webpack:///webpack/bootstrap 6b42503ddbd43fdaf6a1?8a7d","webpack:///./client/worker.js"],"names":["cacheName","putInCache","request","res","copy","clone","caches","open","then","cache","put","self","addEventListener","clients","claim","event","test","url","respondWith","match","response","fetch"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AACA,KAAMA,YAAY,WAAlB;;AAEA,UAASC,UAAT,CAAoBC,OAApB,EAA6BC,GAA7B,EAAkC;AACjC,MAAMC,OAAOD,IAAIE,KAAJ,EAAb;AACA,SAAOC,OAAOC,IAAP,CAAYP,SAAZ,EACLQ,IADK,CACA,UAAUC,KAAV,EAAiB;AACtB,UAAOA,MAAMC,GAAN,CAAUR,OAAV,EAAmBE,IAAnB,CAAP;AACA,GAHK,CAAP;AAIA;;AAEDO,MAAKC,gBAAL,CAAsB,SAAtB,EAAiC,YAAY;AAC5C;AACA,EAFD;;AAIAD,MAAKC,gBAAL,CAAsB,UAAtB,EAAkC,YAAW;AAC5C;AACA,MAAID,KAAKE,OAAL,IAAgBA,QAAQC,KAA5B,EAAmC;AAClCD,WAAQC,KAAR;AACA;AACD,EALD;;AAOAH,MAAKC,gBAAL,CAAsB,OAAtB,EAA+B,UAAUG,KAAV,EAAiB;AAC/C,MAAIb,UAAUa,MAAMb,OAApB;AACA;AACA,MAAI,sBAAsBc,IAAtB,CAA2Bd,QAAQe,GAAnC,CAAJ,EAA6C;AAC5C;AACA,UAAOF,MAAMG,WAAN,CACJZ,OAAOa,KAAP,CAAajB,OAAb,EACEM,IADF,CACO,UAAUY,QAAV,EAAoB;AAC5B,QAAIA,QAAJ,EAAc;AACb;AACA,YAAOA,SAASf,KAAT,EAAP;AACA;AACA;AACD,WAAOgB,MAAMnB,OAAN,EACLM,IADK,CACA,eAAO;AACZP,gBAAWC,OAAX,EAAoBC,GAApB;AACA,YAAOA,IAAIE,KAAJ,EAAP;AACA,KAJK,CAAP;AAKC,IAZA,CADI,CAAP;AAeA;;AAEDU,QAAMG,WAAN,CAAkBG,MAAMnB,OAAN,CAAlB;AACA;AACA,EAxBD,E","file":"./public/worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6b42503ddbd43fdaf6a1\n **/","/* globals self, caches, clients */\n'use strict';\nconst cacheName = 'beacon-v2';\n\nfunction putInCache(request, res) {\n\tconst copy = res.clone();\n\treturn caches.open(cacheName)\n\t\t.then(function (cache) {\n\t\t\treturn cache.put(request, copy);\n\t\t});\n}\n\nself.addEventListener('install', function () {\n\t// console.log('install')\n});\n\nself.addEventListener('activate', function() {\n\t// console.log('activate')\n\tif (self.clients && clients.claim) {\n\t\tclients.claim();\n\t}\n});\n\nself.addEventListener('fetch', function (event) {\n\tvar request = event.request;\n\t// console.log('real fetch', request.url)\n\tif (/www\\.gstatic\\.com\\//.test(request.url)) {\n\t\t// console.log('trying to find in cache', request.url)\n\t\treturn event.respondWith(\n\t\t\t\t\tcaches.match(request)\n\t\t\t\t\t\t.then(function (response) {\n\t\t\t\tif (response) {\n\t\t\t\t\t// console.log('delivering cached', request.url);\n\t\t\t\t\treturn response.clone();\n\t\t\t\t}\n\t\t\t\t\t// console.log('failed to find in cache', request.url)\n\t\t\t\treturn fetch(request)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tputInCache(request, res);\n\t\t\t\t\t\treturn res.clone();\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t);\n\t}\n\n\tevent.respondWith(fetch(request))\n\treturn;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/worker.js\n **/"],"sourceRoot":""}