# Note: Any strings begining with @ or % must be wrapped in quote marks
---
id: signup
title: Signup
isPrimary: true
charts:
  -
    question: 1. How many visitors do we get to the form every day?
    name: compare
    query: "@concat(page:view->count(device.spoorId)->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(page.location.host~ft.com)->filter(user.geo.isFinancialTimesOffice=false)->filter(page.referrer.host~ft.com)->filter(page.referrer.normalizedPath!~/signup),page:view->count()->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(page.location.host~ft.com)->filter(user.geo.isFinancialTimesOffice=false)->filter(page.referrer.host~ft.com)->filter(page.referrer.normalizedPath!~/signup),page:view->count(device.spoorId)->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(page.location.host~ft.com)->filter(user.geo.isFinancialTimesOffice=false)->filter(page.referrer.host~ft.com)->filter(!user.uuid)->filter(page.referrer.normalizedPath!~/signup),page:view->count()->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(page.location.host~ft.com)->filter(user.geo.isFinancialTimesOffice=false)->filter(page.referrer.host~ft.com)->filter(page.referrer.normalizedPath!~/signup)->filter(!user.uuid))->relabel(_headings,Unique all visitors,Pageviews all,Unique anon,Pageviews anon)->tidy()"
    colspan: 8
    datalabel: Signup success rate
  -
    question: 2. What's our conversion rate this week? (%)
    name: this week's conversion rate
    query: "@pct(signup:subscription-created->count()->filter(context.product=next)->filter(context.isTestEvent=false)->filter(user.geo.isFinancialTimesOffice=false)->relTime(this_7_days),page:view->count(device.spoorId)->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(page.location.host~ft.com)->filter(!user.subscriptions.b2b.licenceHolders)->filter(user.geo.isFinancialTimesOffice=false)->filter(page.referrer.host~ft.com)->filter(page.referrer.normalizedPath!~/signup)->filter(!user.uuid)->relTime(this_7_days))"
    interval: false
    colspan: 4
    datalabel: weekly conversion rate
  -
    question: 3. What's our weekly conversion rate trend?
    name: weekly conversion rate
    query: "@pct(signup:subscription-created->count()->filter(context.product=next)->filter(context.isTestEvent=false)->filter(user.geo.isFinancialTimesOffice=false)->relTime(previous_6_weeks),page:view->count(device.spoorId)->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(!user.subscriptions.b2b.licenceHolders)->filter(page.location.host~ft.com)->filter(user.geo.isFinancialTimesOffice=false)->filter(page.referrer.host~ft.com)->filter(!user.uuid)->filter(page.referrer.normalizedPath!~/signup)->relTime(previous_6_weeks))->interval(w)"
    printer: LineChart
  -
    question: 4. How many successful subscriptions have we had (this 4 weeks)?
    name: subscriptions spoor
    interval: false
    query: "signup:subscription-created->count()->filter(context.product=next)->filter(context.isTestEvent=false)->filter(user.geo.isFinancialTimesOffice=false)->relTime(this_4_weeks)->print(ColumnChart)"
    printer: ColumnChart
    colspan: 4
    datalabel: spoor
  -
    question: 5. How many Failed subscription events?
    name: failed
    query: "signup:subscription-creation-failed->count()->filter(context.product=next)->filter(!user.uuid)->filter(context.isTestEvent=false)->filter(user.geo.isFinancialTimesOffice=false)->relTime(previous_6_weeks)->interval(w)"
    printer: ColumnChart
    colspan: 4
    datalabel: Failed
  -
    question: 6. What's our weekly bounce rate trend?
    name: bounces trend
    query: "@pct(signup:bounce->count()->filter(context.product=next)->relTime(previous_6_weeks),page:view->count(device.spoorId)->filter(context.product=next)->filter(page.location.normalizedPath~/signup)->filter(page.referrer.normalizedPath!~/signup)->filter(page.location.host~ft.com)->filter(page.referrer.host~ft.com)->relTime(previous_6_weeks))->filter(!user.subscriptions.b2b.licenceHolders)->filter(user.geo.isFinancialTimesOffice=false)->filter(!user.uuid)->interval(w)"
    datalabel: Bounces trend
    colspan: 3
    printer: LineChart
  -
    question: 7. Existing users trying to subscribe?
    name: exists
    query: signup:notification
            ->count(device.spoorId)->filter(context.product=next)
            ->filter(context.message.state=displayed)
            ->filter(context.message.isTestEvent=false)
            ->filter(context.message.type=known subscriber login prompt)
            ->filter(page.location.normalizedPath~/signup)
            ->filter(page.location.host~ft.com)
            ->filter(user.geo.isFinancialTimesOffice=false)
    datalabel: exists
    printer: ColumnChart
    colspan: 4
  -
    question: 8. Which payment methods are being used to purchse subscriptions?
    name: Payment Method
    query: "signup:subscription-created->count()->filter(context.product=next)->group(context.paymentMethod)->filter(context.isTestEvent=false)->filter(user.geo.isFinancialTimesOffice=false)->relTime(previous_4_weeks)"
  -
    question: 9. What is the split of subscriptions per product type?
    name: Product Type
    query: "signup:subscription-created->count()->filter(context.product=next)->group(context.offer.isTrial,context.offer.name)
  ->filter(context.isTestEvent=false)->filter(user.geo.isFinancialTimesOffice=false)
  ->filter(context.offer.name)->relTime(this_4_weeks)->print(BarChart)"
  -
    question: 10. Zuora response performance BUY NOW ?
    name: Submit CC and DD
    query: "@concat(page:perf-timing->avg(context.meta.timing)->filter(context.meta.name=submitCreditCard)->relTime(previous_48_hours),page:perf-timing->avg(context.meta.timing)->filter(context.meta.name=submitDirectDebit)->relTime(previous_48_hours))->interval(h)->relabel(_headings,CC milliseconds,DD milliseconds)"
  -
    question: 11. Zuora response performance SELECT PAYMENT METHOD ?
    name: Submit CC and DD
    query: "@concat(page:perf-timing->avg(context.meta.timing)->filter(context.meta.name=renderCreditCard)->relTime(previous_48_hours)->interval(h),page:perf-timing->avg(context.meta.timing)->filter(context.meta.name=renderCreditCard)->relTime(previous_48_hours)->interval(h))->relabel(_headings,CC milliseconds,DD milliseconds)"
