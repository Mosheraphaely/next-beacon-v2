# Note: Any strings begining with @ or % must be wrapped in quote marks
---
id: signup
title: Signup
isPrimary: true
charts:
  -
    question: How many Unique Visitors do we get every day?
    name: visitors
    query: page:view->count(device.spoorId)->filter(page.location.path~signup)->interval(d)
    datalabel: Signup visitors per day
  -
    question: How many succesful registrations have we had?
    name: registrations
    interval: false
    query: signup:subscription-created->filter(context.isTestEvent=false)->count()
    datalabel: Signup succesful registrations
  -
    question: How many bounces have we had today?
    name: bounces
    interval: false
    timeframe: this_1_days
    query: "signup:bounce->count()->filter(context.message.isTestEvent=false)"
    datalabel: Bounces today
  -
    question: What's our daily conversion rate?
    name: daily
    query: "@concat(
            page:view
              ->count(device.spoorId)
              ->filter(page.location.path~signup)
              ->interval(d),
            signup:subscription-created
              ->filter(context.isTestEvent=false)
              ->count()
             ->interval(d)
            )
          ->relabel(_headings,Unique Visitors,Subscriptions)"
    printer: StackedColumnChart
    datalabel: Signup success rate
  -
    question: Pageviews vs. Unique Visitors
    name: compare
    query: "@concat(page:view
        ->count(device.spoorId)
        ->filter(page.location.path~signup)
        ->interval(d),
      page:view
        ->count()
        ->filter(page.location.path~signup)
        ->interval(d))->relabel(_headings,Unique visitors, Pageviews)"
    printer: StackedAreaChart
    datalabel: Signup success rate
  -
    question: What are our top browsers?
    name: browsers
    query: "@pct(page:view
                  ->count()
                  ->group(device.browserName)
                  ->filter(page.location.path~signup)
                  ->filter(device.browserName)
                  ->filter(device.browserName!=false),
                 page:view
                  ->count()
                  ->filter(page.location.path~signup)
                  ->filter(device.browserName)
                  ->filter(device.browserName!=false))
                ->sortDesc()"
    printer: BarChart
    datalabel: Signup Browsers
  -
    question: (BETA) Failed Registrations
    name: failed
    query: "@concat(signup:subscription-created->count()->interval(d),signup:subscription-creation-failed->filter(context.isTestEvent=false)->count()->interval(d))->relabel(_headings,Successful,Failed)->print(StackedColumnChart)"
    printer: StackedColumnChart
    datalabel: Signup Browsers
  -
    question: (BETA) Payment Methods
    name: payment
    query: "@concat(
            cta:click
             ->count()
             ->filter(context.domPath=page:signup | signup-form | cc-amex)
             ->interval(d),
            cta:click
             ->count()
             ->filter(context.domPath=page:signup | signup-form | cc-master)
             ->interval(d),
            cta:click
             ->count()
             ->filter(context.domPath=page:signup | signup-form | cc-visa)
             ->interval(d)
            )->relabel(_headings, Amex, MasterCard, Visa)"
    datalabel: Payment Methods
  -
    question: How many subscribers does light sign-up get every day?
    name: lightsignup
    query: light-signup:subscribed->count()->interval(d)
    datalabel: "Subscribers p/day"
  -
    question: How many visits to the subscription funnel does light sign-up generate?
    name: lightsignup-funnel
    query: email:click->count(context.deviceId)->filter(context.product="light-signup")->filter(context.targetLinkUrl~"801043")
    datalabel: "Funnel clicks p/day"
  -
    question: How many anonymous people viewed an article in each light signup AB test group
    name: lightsignup-views
    query: page:view->count(device.spoorId)->filter(page.location.type="article")->filter(!user.uuid)->filter(user.ab.tests.lightSignUp)->group(user.ab.tests.lightSignUp)->interval(d)->print(StackedColumnChart)
    datalabel: "Page views"
  -
    question: How many people signed up in each light signup AB test group
    name: lightsignup-by-test-group
    query: light-signup:subscribed->count()->group(user.ab.tests.lightSignUp)->interval(d)->print(LineChart)
    datalabel: "Subscribers p/day"
