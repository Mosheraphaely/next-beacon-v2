# Note: Any strings begining with @ or % must be wrapped in quote marks
---
id: lightsignup
title: Light Signup
isPrimary: true
charts:
  -
    question: How many subscribers does light signup get every day?
    name: lightsignup
    query: light-signup:subscribed->count()->filter(context.isTestEvent=false)->interval(d)
    datalabel: "Subscribers p/day"
  -
    question: "When served the light signup form, how many users subscribe?"
    name: views-to-subscriptions
    query: "@concat(page:view->count(device.spoorId)->filter(user.ab.tests.lightSignUp)->filter(page.location.type=article)->filter(user.ab.tests.lightSignUp!=control),light-signup:subscribed->count()->filter(context.isTestEvent=false))"
    printer: StackedLineChart
    datalabel: "Subscribers p/day"
  -
    question: "How many (trackable) light signup subscribers go on to purchase a subscription?"
    name: lightsignup-conversion
    query: "@funnel(light-signup:subscribed->count(device.spoorId)->filter(context.isTestEvent=false),signup:subscription-created->count(device.spoorId)->filter(context.isTestEvent=false))->with(device.spoorId)"
    printer: Table
    datalabel: "Conversion all-time"
  -
    question: How many visits to the subscription funnel does light signup generate?
    name: lightsignup-funnel
    query: email:click->count(context.deviceId)->filter(context.product="light-signup")->filter(context.targetLinkUrl~"801043")
    datalabel: "Funnel clicks p/day"
  -
    question: How many anonymous people viewed an article in each light signup AB test group
    name: lightsignup-views
    query: page:view->count(device.spoorId)->filter(page.location.type="article")->filter(!user.uuid)->filter(user.ab.tests.lightSignUp)->group(user.ab.tests.lightSignUp)->interval(d)->print(StackedColumnChart)
    datalabel: "Page views"
  -
    question: How many people signed up in each light signup AB test group
    name: lightsignup-by-test-group
    query: light-signup:subscribed->count()->group(user.ab.tests.lightSignUp)->interval(d)->print(LineChart)
    datalabel: "Subscribers p/day"

